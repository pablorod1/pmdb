---
import Layout from "@layouts/Layout.astro";
import SerieList from "@components/SerieList";
import {
  type Provider,
  type SeriesResponse,
  allProviders,
  discoverSeriesByProvider,
  getTVProviders,
} from "@lib/api/series";

const initialSeries: SeriesResponse = await discoverSeriesByProvider(
  1,
  allProviders.map((provider) => provider.provider_id.toString()).join("|")
);
---

<Layout title="Series">
  <main>
    <SerieList
      initialSeries={initialSeries}
      initialProvider={allProviders}
      client:only="react"
    />
  </main>
</Layout>
